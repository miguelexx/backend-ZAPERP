# ===============================
# SERVER
# ===============================
PORT=3000
JWT_SECRET=sua_chave_jwt_muito_secreta_aqui

# ===============================
# SUPABASE (obrigatório)
# ===============================
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_SERVICE_ROLE_KEY=sua_service_role_key_aqui

# ===============================
# POSTGRES (opcional / legado)
# ===============================
# PG_HOST=localhost
# PG_USER=postgres
# PG_PASSWORD=
# PG_DATABASE=whatsapp_plataforma
# PG_PORT=5432

# ===============================
# WHATSAPP — PROVIDER
# ===============================
# meta = Cloud API (Meta)
# zapi = Z-API (QR Code / WhatsApp Web)
WHATSAPP_PROVIDER=zapi

# Fallback multi-tenant / webhook
WEBHOOK_COMPANY_ID=1

# ===============================
# Z-API (ATIVO)
# ===============================
# URL base do seu backend (obrigatório para webhook e mídia). Ex: https://seu-dominio.com ou ngrok
APP_URL=https://seu-dominio.com

ZAPI_INSTANCE_ID=
ZAPI_TOKEN=
ZAPI_BASE_URL=https://api.z-api.io

# Obrigatório para enviar mensagens (Z-API retorna 400 sem ele). Painel Z-API → Segurança → Token da conta
ZAPI_CLIENT_TOKEN=

# Webhook Z-API: no painel Z-API configure as URLs de callback:
#   Receber mensagens:  POST {{APP_URL}}/webhooks/zapi
#   Status (entrega/leitura): POST {{APP_URL}}/webhooks/zapi/status
#
# No painel Z-API: Opções → Editar instância → Webhook "Recebido" = {{APP_URL}}/webhooks/zapi
# Teste no navegador: GET {{APP_URL}}/webhooks/zapi (mostra a URL a configurar)
# Assim todas as mensagens (texto, áudio, imagem, vídeo, documento, figurinha) chegam ao sistema.

# ===============================
# META (DESATIVADO — manter vazio)
# ===============================
WHATSAPP_TOKEN=
META_ACCESS_TOKEN=
PHONE_NUMBER_ID=
WHATSAPP_PHONE_ID=
WEBHOOK_VERIFY_TOKEN=whatsapp_verify_me

# ===============================
# JOBS / CRON
# ===============================
CRON_SECRET=chave_secreta_para_cron
